/*
Day 4 of 30 ðŸ—“

Problem : Merge Two Sorted Arrays
You are given two sorted arrays arr1 of size m and arr2 of size n. Your task is to merge these two arrays into a single sorted array without using any extra space (i.e., in-place merging). The elements in arr1 should be merged first, followed by the elements of arr2, resulting in both arrays being sorted after the merge.

Input :
Two sorted integer arrays arr1 of size m and arr2 of size n.
Example : 
arr1 = [1, 3, 5, 7]
arr2 = [2, 4, 6, 8]

Output :
Both arr1 and arr2 should be sorted after the merge. Since you cannot use extra space, the final result will be reflected in arr1 and arr2.
Example:
arr1 = [1, 2, 3, 4]
arr2 = [5, 6, 7, 8]

*/

import java.util.*;

public class Day4 {

    public static void merge(int[] arr1, int[] arr2) {
        int n = arr1.length;
        int m = arr2.length;
        int total = n + m;
        int gap = (int)Math.ceil((double)total / 2);

        while (gap > 0) {
            int left = 0, right = gap;

            while (right < total) {
                int leftVal = getValue(arr1, arr2, left, n);
                int rightVal = getValue(arr1, arr2, right, n);

                if (leftVal > rightVal) {
                    setValue(arr1, arr2, left, n, rightVal);
                    setValue(arr1, arr2, right, n, leftVal);
                }
                left++;
                right++;
            }

            if (gap == 1) break;
            gap = (int)Math.ceil((double)gap / 2);
        }
    }

    private static int getValue(int[] arr1, int[] arr2, int index, int n) {
        return (index < n) ? arr1[index] : arr2[index - n];
    }

    private static void setValue(int[] arr1, int[] arr2, int index, int n, int newValue) {
        if (index < n) {
            arr1[index] = newValue;
        } else {
            arr2[index - n] = newValue;
        }
    }

    public static void main(String[] args) {
        int[] arr1 = {1,3,5,7};
        int[] arr2 = {2,4,6,8};

        merge(arr1, arr2);

        System.out.print("arr1 = ");
        for (int i = 0; i < arr1.length; i++) {
            System.out.print(arr1[i] + " ");
        }
        System.out.println();

        System.out.print("arr2 = ");
        for (int i = 0; i < arr2.length; i++) {
            System.out.print(arr2[i] + " ");
        }
    }
}

